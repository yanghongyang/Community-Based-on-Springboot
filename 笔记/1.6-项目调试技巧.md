### 项目调试技巧

1. 响应状态码的含义

2. 服务端断点调试技巧

   - 打断点的时候使用 `"Debug"` 而不是 `"Run"`
   - Intellij IDEA 的调试快捷键
     - `F8` 逐行调试
     - `F7` 进入方法内部调试
     - `F9` 前往下一个断点进行调试

3. 客户端断点调试技巧

   - 打开浏览器的开发者工具，找到 `Sources` 下的 `js` 文件进行调试
   - 向下执行一行 `F10` 
   - 进入某个方法内部 `F11` 
   - 执行到底 `F8` 

4. 设置日志级别，并将日志输出到不同的终端

   - `Springboot` 默认启动日志为 `logback` 

   - ```java
     package org.slf4j; 
     public interface Logger {
     
       // Printing methods: 
       public void trace(String message);
       public void debug(String message);
       public void info(String message); 
       public void warn(String message); 
       public void error(String message); 
     }
     ```

   - 不同的方法名代表不同的级别，级别从高到低为 ： `error > warn > info > debug > trace` ，某个级别的日志只会显示大于等于它级别的日志的内容，而不会显示比它级别低的日志的内容。

   -  在 `application.properties` 文件中配置日志文件啊的存放位置，代码为： 

     - ```bash
       # 日志文件存放位置
       logging.file.name=e:/Github/Projects-by-myself/Javaweb-project-like-newcoder-website/community/logging/community.log
       ```

     - 这里需要注意，在最新版本的 `springboot` 框架下 `logging.file` 或 `logging.path` 已经过时了，因此需要使用新的配置来进行代替。( `logging.file.name` 或 `logging.file.path `)，除此之外还需要注意文件路径的 `'\'` 需要全部改成 `'/'` 。

     - > `logging.file.name` 或者是 `logging.file.path` ，那么这两个的区别是什么呢？如下例子：
       >
       > 例子 `1` :
       >
       > ```bash
       > logging.file.name=test.log
       > ```
       >
       > 这种配置当为 `windows` 环境时会在项目根目录下生成 `test.log` 文件，如果为 `linux` 环境会在安装的 `tomcat` 根目录的 `bin` 目录下生成 `test.log` 文件。
       >
       > 例子 `2` :
       >
       > ```bash
       > logging.file.name=applog/test.log
       > ```
       >
       > 这种配置当为 `windows` 环境时会在项目根目录下生成文件夹 `applog` ，在文件夹内生成 `test.log` 文件，如果为 `linux` 环境会在安装的 `tomcat` 根目录的 `bin` 目录下生成 `applog` 文件夹，在文件夹内生成 `test.log` 文件。
       >
       > 例子 `3` :
       >
       > ```bash
       > logging.file.path=applog
       > ```
       >
       > 这种配置当为 `windows` 环境时会在项目根目录下生成 `applog` 文件j夹并在文件夹内生成 `spring.log` 文件（ `spring` 这个文件名是默认的），如果为 `linux` 环境会在安装的 `tomcat` 根目录的 `bin` 目录下生成 `applog` 文件夹，并默认生成 `spring.log` 文件。
       >
       > 例子 `4` :
       >
       > ```bash
       > logging.file.name=D:/applog				# 1.这个是win环境  
       > logging.file.name=/usr/local/applog		 # 2.这一种是阿里云服务器的centos环境下  
       > ```
       >
       > #`1` 会在 **D盘** 下生成 **`applog`** 文件夹并在文件夹内生成默认 `spring.log` 文件
       >
       > #`2`会在 **`/usr/local/`** 目录下生成**`applog`**文件夹并在文件夹内默认生成 `spring.log`文件
       >
       > ​           ——摘抄自[springboot中配置文件里日志文件的路径配置logging.file和logging.path过时处理](https://blog.csdn.net/bigcandidate/article/details/107108651?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-2&spm=1001.2101.3001.4242)

   - 想要自己配置日志文件的相关信息（文件大小啊之类的），需要自己写好 `logback-spring.xml` 文件（只能是这个文件名），并放在 `src/main/resources/` 目录下，否则 `springboot` 项目不认。

     - 一种可能的 `logback-spring.xml` 文件的写法如下。

     - ```xml
       <?xml version="1.0" encoding="UTF-8"?>
       <configuration>
           <contextName>community</contextName>
       	<!--这里的 LOG_PATH 配置为自己想保存的日志的目录位置-->    
           <property name="LOG_PATH"
                     value="E:/Github/Projects-by-myself/Javaweb-project-like-newcoder-website/community/logging"/>
           <!--这里的 APPDIR 配置为自己想保存的日志的目录的分目录的位置（因为可能会出现多个项目的日志打印在同一个目录下，因此配置 APPDIR 便于区分 -->
           <property name="APPDIR" value="community"/>
       
           <!-- error file -->
           <appender name="FILE_ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">
               <file>${LOG_PATH}/${APPDIR}/log_error.log</file>
               <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                   <!-- 配置ERROR级别的日志的文件名 -->
                   <fileNamePattern>${LOG_PATH}/${APPDIR}/error/log-error-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                   <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                       <!-- 配置日志文件的最大大小 -->
                       <maxFileSize>5MB</maxFileSize>
                   </timeBasedFileNamingAndTriggeringPolicy>
                   <!-- 配置日志文件的最大大小 -->
                   <maxHistory>30</maxHistory>
               </rollingPolicy>
               <append>true</append>
               <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                   <pattern>%d %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
                   <charset>utf-8</charset>
               </encoder>
               <filter class="ch.qos.logback.classic.filter.LevelFilter">
                   <level>error</level>
                   <onMatch>ACCEPT</onMatch>
                   <onMismatch>DENY</onMismatch>
               </filter>
           </appender>
       
           <!-- warn file -->
           <appender name="FILE_WARN" class="ch.qos.logback.core.rolling.RollingFileAppender">
               <file>${LOG_PATH}/${APPDIR}/log_warn.log</file>
               <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                   <fileNamePattern>${LOG_PATH}/${APPDIR}/warn/log-warn-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                   <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                       <maxFileSize>5MB</maxFileSize>
                   </timeBasedFileNamingAndTriggeringPolicy>
                   <maxHistory>30</maxHistory>
               </rollingPolicy>
               <append>true</append>
               <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                   <pattern>%d %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
                   <charset>utf-8</charset>
               </encoder>
               <filter class="ch.qos.logback.classic.filter.LevelFilter">
                   <level>warn</level>
                   <onMatch>ACCEPT</onMatch>
                   <onMismatch>DENY</onMismatch>
               </filter>
           </appender>
       
           <!-- info file -->
           <appender name="FILE_INFO" class="ch.qos.logback.core.rolling.RollingFileAppender">
               <file>${LOG_PATH}/${APPDIR}/log_info.log</file>
               <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                   <fileNamePattern>${LOG_PATH}/${APPDIR}/info/log-info-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                   <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                       <maxFileSize>5MB</maxFileSize>
                   </timeBasedFileNamingAndTriggeringPolicy>
                   <maxHistory>30</maxHistory>
               </rollingPolicy>
               <append>true</append>
               <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                   <pattern>%d %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
                   <charset>utf-8</charset>
               </encoder>
               <filter class="ch.qos.logback.classic.filter.LevelFilter">
                   <level>info</level>
                   <onMatch>ACCEPT</onMatch>
                   <onMismatch>DENY</onMismatch>
               </filter>
           </appender>
       
           <!-- console -->
           <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
               <encoder>
                   <pattern>%d %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
                   <charset>utf-8</charset>
               </encoder>
               <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
                   <level>debug</level>
               </filter>
           </appender>
       
           <logger name="com.goodbook.community" level="debug"/>
       
           <root level="info">
               <appender-ref ref="FILE_ERROR"/>
               <appender-ref ref="FILE_WARN"/>
               <appender-ref ref="FILE_INFO"/>
               <appender-ref ref="STDOUT"/>
           </root>
       
       </configuration>
       ```

5. 当项目出错的时候，应该进行的步骤：

   1. 看响应状态码
   2. 断点调试
   3. 打印日志排查