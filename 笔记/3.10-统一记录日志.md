[TOC]

#### 统一记录日志

##### AOP 术语

1. 编译时织入，需要使用特殊的编译器
   1. 好处：运行时速度快
2. 装载时织入，需要使用特殊的类装载器
3. 运行时织入，需要为目标生成代理对象
   1. 好处：灵活
   2. 缺点：效率比编译时织入低

##### AOP 的实现

- AspectJ
  - AspectJ 是语言级的实现，它扩展了 Java 语言，定义了 AOP 语法
  - AspectJ 在编译期织入代码，它有一个专门的编译器，用来生成遵守 Java 字节码规范的 class 文件
- Spring AOP 
  - Spring AOP 使用纯 Java 实现，它不需要专门的编译过程，也不需要特殊的类装载器
  - Spring AOP 在运行时通过代理的方式织入代码，只支持方法类型的连接点
  - Spring 支持对 AspectJ 的集成

##### Spring AOP

- JDK 动态代理
  - Java 提供的动态代理技术，可以在运行时创建接口的代理实例
  - Spring AOP 默认采用这种方式，在接口的实例中织入代码
- CGLib 动态代理
  - 采用底层的字节码技术，在运行时创建子类代理实例
  - 当目标对象不存在接口时， Spring AOP 会采用这种方式，在子类实例中织入代码

